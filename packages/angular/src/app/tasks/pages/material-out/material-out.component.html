<app-navbar></app-navbar>
<div class="wrap-body">
  <app-sidebar></app-sidebar>
  <div class="container-fluid">
    <div class="row my-2">
      <div class="col-12">
        <form (submit)="onSearch()" class="form-inline">
          <h4 class="text-uppercase mb-0 mr-2">Lista de Tareas</h4>
          <input type="number" [(ngModel)]="year" name="year" class="form-control mr-2" style="width: 100px;">
          <select [(ngModel)]="month" name="month" class="custom-select mr-2">
            <option value="01">ENERO</option>
            <option value="02">FEBRERO</option>
            <option value="03">MARZO</option>
            <option value="04">ABRIL</option>
            <option value="05">MAYO</option>
            <option value="06">JUNIO</option>
            <option value="07">JULIO</option>
            <option value="08">AGOSTO</option>
            <option value="09">SEPTIEMBRE</option>
            <option value="10">OCTUBRE</option>
            <option value="11">NOVIEMBRE</option>
            <option value="12">DICIEMBRE</option>
          </select>
          <input type="search" [(ngModel)]="search" name="search" class="form-control mr-2"
            placeholder="Tarea, Cliente...">
          <button type="submit" class="btn btn-primary">
            <i class="fas fa-search"></i>
            <span class="text-uppercase">&nbsp;Buscar</span>
          </button>
        </form>
      </div>
      <div class="col-12">
        <div class="table-responsive">
          <table class="table mt-2 table-sm">
            <thead class="thead-light">
              <tr class="text-uppercase">
                <th>Fecha Reg.</th>
                <th>Cliente</th>
                <th>Tarea</th>
                <th>Fecha Trab.</th>
                <th>Estatus</th>
                <th>TÃ©cnico</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let task of tasks">
                <td>
                  <a [routerLink]="['/task-detail', task._id]">{{ task.createdAt }}</a>
                </td>
                <td>{{ task.fullName }}</td>
                <td>{{ task.title }}</td>
                <td>{{ task.forDate }}</td>
                <td>
                  <ng-container *ngIf="task.status == 'N'">PENDIENTE</ng-container>
                  <ng-container *ngIf="task.status == 'P'">EN PROCESO</ng-container>
                  <ng-container *ngIf="task.status == 'F'">FINALIZADO</ng-container>
                </td>
                <td>
                  <ng-container *ngIf="task.user">
                    {{ task.user.name }}
                  </ng-container>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
