<app-navbar></app-navbar>
<div class="wrap-body">
  <app-sidebar></app-sidebar>
  <div class="container-fluid">
    <!-- ##(Begin) Content -->
    <div class="row">
      <div class="col-12">
        <form
          [formGroup]="queryForm"
          (ngSubmit)="searchSubmit()"
          class="row row-cols-auto g-2 my-2">
          <div class="col-auto">
            <h4 class="text-uppercase pt-1 mb-0">Lista Ordenes de Instalación</h4>
          </div>
          <div class="col-auto">
            <input type="number" formControlName="year" class="form-control" style="width: 100px;">
          </div>
          <div class="col-auto">
            <select formControlName="month" class="form-select">
              <option value="01">ENERO</option>
              <option value="02">FEBRERO</option>
              <option value="03">MARZO</option>
              <option value="04">ABRIL</option>
              <option value="05">MAYO</option>
              <option value="06">JUNIO</option>
              <option value="07">JULIO</option>
              <option value="08">AGOSTO</option>
              <option value="09">SEPTIEMBRE</option>
              <option value="10">OCTUBRE</option>
              <option value="11">NOVIEMBRE</option>
              <option value="12">DICIEMBRE</option>
            </select>
          </div>
          <div class="col-auto">
            <input type="search" formControlName="search" class="form-control" placeholder="CLIENTE...">
          </div>
          <div class="col-auto">
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-search"></i>
              <span class="text-uppercase ms-1">Buscar</span>
            </button>
          </div>
        </form>
      </div><!-- //.col-12 -->
      <div class="col-12">
        <div class="table-responsive">
          <table class="table table-striped">
            <thead>
            <tr class="text-uppercase">
              <th>Cliente</th>
              <th>Dirección</th>
              <th>Teléfono</th>
              <th></th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let item of installationOrders">
              <td>
                <a [routerLink]="['/installation_orders/detail', item.InstallationOrder._id]"
                   class="text-uppercase">{{item.fullName}}</a>
                <div class="d-flex">
                  <div class="text-uppercase me-1">
                    <span class="badge bg-info">{{item.InstallationOrder.typeInstallation}}</span>
                  </div>
                  <div class="text-uppercase ms-1">
                    <span *ngIf="item.InstallationOrder.statusOrder === 'PENDIENTE'" class="badge bg-primary">
                      {{item.InstallationOrder.statusOrder}}</span>
                    <span *ngIf="item.InstallationOrder.statusOrder === 'EN PROCESO'" class="badge bg-warning">
                      {{item.InstallationOrder.statusOrder}}</span>
                    <span *ngIf="item.InstallationOrder.statusOrder === 'FINALIZADO'" class="badge bg-success">
                      {{item.InstallationOrder.statusOrder}}</span>
                  </div>
                </div>
                <span class="blockquote-footer">{{item.InstallationOrder.createdAt}}</span>
              </td>
              <td>{{item.InstallationOrder.address}}</td>
              <td>{{item.phone}}</td>
              <td>
                <div class="btn-opt ms-auto">
                  <button [routerLink]="['/installation_orders/edit', item.InstallationOrder._id]"
                          class="btn btn-secondary btn-sm me-2"><i class="fas fa-edit"></i></button>
                  <button (click)="deleteOrderInstallation(item.InstallationOrder._id)" class="btn btn-danger btn-sm">
                    <i class="fas fa-trash-alt"></i></button>
                </div>
              </td>
            </tr>
            </tbody>
          </table>
        </div><!-- //.table-responsive -->
      </div><!-- //.col-12 -->
    </div>
    <!-- ##(End) Content -->
  </div>
</div>
